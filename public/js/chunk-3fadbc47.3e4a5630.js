(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fadbc47"],{"33cf":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{attrs:{dense:""}},[a("v-col",e._l(this.tableItems,(function(t){return a("v-card",{key:t.INDEX_KEY,staticClass:"mx-auto",attrs:{outlined:"",elevation:"2"}},[[a("v-toolbar",{attrs:{flat:""}},[a("v-col",[a("v-toolbar-title",[e._v("일 단위 달성율")])],1),a("v-col",[a("v-select",{attrs:{"hide-details":"",items:e.zones,"item-text":"name","item-value":"value",label:"주간/야간",dense:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1)],1),a("v-toolbar",{attrs:{flat:"",dense:""}},[a("v-col",[[a("v-dialog",{ref:"dialog",refInFor:!0,attrs:{"return-value":e.date,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.date=t},"update:return-value":function(t){e.date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{"hide-details":"",label:"기준일자","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},"v-text-field",s,!1),i))]}}],null,!0),model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("v-date-picker",{attrs:{locale:"ko-kr","day-format":function(e){return e.split("-")[2]},scrollable:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.modal=!1}}},[e._v("취소")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialog[0].save(e.date)}}},[e._v("확인")])],1)],1)]],2),a("v-col",{staticClass:"justify-end",staticStyle:{"text-align":"right"}},[a("v-btn",{attrs:{tile:"",outlined:"",type:"submit",color:"success"},on:{click:e.retrieveCalendar}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-magnify")]),e._v(" 조회")],1)],1)],1)],a("v-row",{staticClass:"pa-0 ma-0 justify-center"},[a("v-row",{staticClass:"pa-0 ma-0"},[a("v-col",{staticClass:"px-4",staticStyle:{"text-align":"center"}},[a("v-progress-circular",{attrs:{rotate:"270",size:"200",value:100*e.getNum(t.DONE_LINE/t.IS_TARGET),width:"15",color:"success"}},[a("div",{staticClass:"text-h5"},[e._v("완료: "+e._s(Math.round(100*e.getNum(t.DONE_LINE/t.IS_TARGET)))+"%"),a("br"),e._v(e._s(t.DONE_LINE)+" / "+e._s(t.IS_TARGET))])])],1)],1),a("v-row",{staticClass:"pa-0 ma-0"},[a("v-col",{staticStyle:{"align-self":"center"}},[a("v-row",{staticClass:"pa-0 ma-0"},[a("div",{staticClass:"pt-0.5"},[a("v-avatar",{attrs:{color:"success",size:"15"}})],1),a("strong",{staticClass:"px-6 pr-1"},[e._v("완료 "+e._s(t.DONE_LINE))])]),a("v-row",{staticClass:"pa-0 ma-0"},[a("div",{staticClass:"pt-0.5"},[a("v-avatar",{attrs:{color:"grey",size:"15"}})],1),a("strong",{staticClass:"px-6 pr-1"},[e._v("미완료 "+e._s(t.IS_TARGET-t.DONE_LINE))])])],1)],1)],1)],2)})),1),a("v-col",e._l(this.tableWeekItems,(function(t){return a("v-card",{key:t.INDEX_KEY,staticClass:"mx-auto",attrs:{outlined:"",elevation:"2"}},[[a("v-toolbar",{attrs:{flat:""}},[a("v-col",[a("v-toolbar-title",[e._v("주 단위 달성율")])],1),a("v-col",[a("v-select",{attrs:{"hide-details":"",items:e.zonesweek,"item-text":"name","item-value":"value",label:"주간/야간",dense:""},model:{value:e.filterweek,callback:function(t){e.filterweek=t},expression:"filterweek"}})],1)],1),a("v-toolbar",{attrs:{flat:"",dense:""}},[a("v-col",[[a("v-dialog",{ref:"dialogweek",refInFor:!0,attrs:{"return-value":e.dateweek,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.dateweek=t},"update:return-value":function(t){e.dateweek=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{"hide-details":"",label:"기준일자","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.computedDateweek,callback:function(t){e.computedDateweek=t},expression:"computedDateweek"}},"v-text-field",s,!1),i))]}}],null,!0),model:{value:e.modalweek,callback:function(t){e.modalweek=t},expression:"modalweek"}},[a("v-date-picker",{attrs:{locale:"ko-kr","day-format":function(e){return e.split("-")[2]},scrollable:""},model:{value:e.dateweek,callback:function(t){e.dateweek=t},expression:"dateweek"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.modalweek=!1}}},[e._v("취소")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialogweek[0].save(e.dateweek)}}},[e._v("확인")])],1)],1)]],2),a("v-col",{staticClass:"justify-end",staticStyle:{"text-align":"right"}},[a("v-btn",{attrs:{tile:"",outlined:"",type:"submit",color:"success"},on:{click:function(t){return e.retrieveCalendarWeek2(e.dateweek)}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-magnify")]),e._v(" 조회")],1)],1)],1)],a("v-row",{staticClass:"pa-0 ma-0 justify-center"},[a("v-row",{staticClass:"pa-0 ma-0"},[a("v-col",{staticClass:"px-4",staticStyle:{"text-align":"center"}},[a("v-progress-circular",{attrs:{rotate:"270",size:"200",value:100*e.getNum(t.DONE_LINE/t.IS_TARGET),width:"15",color:"success"}},[a("div",{staticClass:"text-h5"},[e._v("완료: "+e._s(Math.round(100*e.getNum(t.DONE_LINE/t.IS_TARGET)))+"%"),a("br"),e._v(e._s(t.DONE_LINE)+" / "+e._s(t.IS_TARGET))])])],1)],1),a("v-row",{staticClass:"pa-0 ma-0"},[a("v-col",{staticStyle:{"align-self":"center"}},[a("v-row",{staticClass:"pa-0 ma-0"},[a("div",{staticClass:"pt-0.5"},[a("v-avatar",{attrs:{color:"success",size:"15"}})],1),a("strong",{staticClass:"px-6 pr-1"},[e._v("완료 "+e._s(t.DONE_LINE))])]),a("v-row",{staticClass:"pa-0 ma-0"},[a("div",{staticClass:"pt-0.5"},[a("v-avatar",{attrs:{color:"grey",size:"15"}})],1),a("strong",{staticClass:"px-6 pr-1"},[e._v("미완료 "+e._s(t.IS_TARGET-t.DONE_LINE))])])],1)],1)],1)],2)})),1)],1)],1)},s=[],r=(a("4de4"),a("caad"),a("a15b"),a("d81d"),a("ac1f"),a("2532"),a("5319"),a("bc3a")),l=a.n(r),o={props:{workplace:String},data:function(){return{date:(new Date).toISOString().substr(0,10),dateweek:(new Date).toISOString().substr(0,10),computedDateweek:"",date3:["2021-03-01","2021-03-05"],today:new Date,diff:"",modal:!1,modalweek:!1,modal3:!1,menu2:!1,tableItems:[],tableWeekItems:[],table3:[],zones:[{name:"주간",value:"주간"},{name:"야간",value:"야간"}],zonesweek:[{name:"주간",value:"주간"},{name:"야간",value:"야간"}],istarget:[{name:"전체",value:""},{name:"대상",value:"1"},{name:"비대상",value:"0"}],filter:"",filterweek:"",dialogDelete:!1,dialogDeleteWeek:!1,editedItem:{INDEX_KEY:0,IS_MANUAL:"",WORK_SHOP_ID:"",PART_ID:"",CAN_OK:""},tab:null,items:["일 단위","주 단위"]}},computed:{filteredTables:function(){var e=this;return this.tableItems.filter((function(t){return!e.filter&&!e.filter2||!e.filter&&e.filter2.includes(t.IS_TARGET)||e.filter.includes(t.TIME_ZONE_ID)&&!e.filter2||e.filter.includes(t.TIME_ZONE_ID)&&e.filter2.includes(t.IS_TARGET)}))},filteredTablesWeek:function(){var e=this;return this.tableWeekItems.filter((function(t){return!e.filter&&!e.filter2||!e.filter&&e.filter2.includes(t.IS_TARGET)||e.filter.includes(t.TIME_ZONE_ID)&&!e.filter2||e.filter.includes(t.TIME_ZONE_ID)&&e.filter2.includes(t.IS_TARGET)}))},getLeftColor:function(){return this.filteredTables.map((function(e){return"주간"==e.TIME_ZONE_ID?"10px solid orange":"10px solid rgb(25 25 112)"}))},getLeftColorWeek:function(){return this.filteredTablesWeek.map((function(e){return"주간"==e.TIME_ZONE_ID?"10px solid orange":"10px solid rgb(25 25 112)"}))}},created:function(){console.log(this.$store.state);var e=(new Date).getHours();e>=9&&e<21?(this.filter="주간",this.filterweek="주간"):(this.filter="야간",this.filterweek="야간"),this.filter2="1",this.filter="주간",this.filterweek="주간",this.retrieveCalendar(),this.retrieveCalendarWeek()},methods:{retrieveCalendar:function(){var e=this,t=localStorage.getItem("token");l.a.get(this.workplace+"/api/dashboard/get1?date="+this.date.replace(/-/g,"")+"&zone="+this.filter,{headers:{Authorization:t}}).then((function(t){e.tableItems=t.data}))},formatDate:function(e){var t=new Date(e),a=""+(t.getMonth()+1),i=""+t.getDate(),s=t.getFullYear();return a.length<2&&(a="0"+a),i.length<2&&(i="0"+i),[s,a,i].join("-")},retrieveCalendarWeek:function(){var e=this,t=localStorage.getItem("token"),a=new Date,i=a.getDate()-a.getDay()+1,s=this.formatDate(new Date(a.setDate(i)));this.computedDateweek=s,l.a.get(this.workplace+"/api/dashboard/get2?date="+s.replace(/-/g,"")+"&zone="+this.filterweek,{headers:{Authorization:t}}).then((function(t){console.log("--in method--"),console.log(e.startOfWeek),e.tableWeekItems=t.data}))},retrieveCalendarWeek2:function(e){var t=this,a=new Date(e),i=a.getDate()-a.getDay()+1,s=new Date(a.setDate(i)).toISOString().substr(0,10);this.computedDateweek=s;var r=localStorage.getItem("token");l.a.get(this.workplace+"/api/dashboard/get2?date="+s.replace(/-/g,"")+"&zone="+this.filterweek,{headers:{Authorization:r}}).then((function(e){console.log("--in 2method--"),console.log(s),t.tableWeekItems=e.data}))},callTargetSPC:function(e,t,a,i){this.$router.push({path:"/sw/inspection/tl/ts",query:{line:e,part:t,workdate:a.replace(/-/g,""),zone:i}})},callTargetSPC_Week:function(e,t,a,i){this.$router.push({path:"/sw/inspection/tl/ts/week",query:{line:e,part:t,workdate:a.replace(/-/g,""),zone:i}})},updateIS_MANUAL:function(){var e=this,t=localStorage.getItem("token");l.a.patch(this.workplace+"/api/inspection/tl/manual?index_key="+this.editedItem.INDEX_KEY+"&pIS_MANUAL="+this.editedItem.IS_MANUAL,{headers:{Authorization:t}}).then((function(){e.retrieveCalendar()}))},updateIS_MANUAL_Week:function(){var e=this,t=localStorage.getItem("token");l.a.patch(this.workplace+"/api/inspection/tl/manual/week?index_key="+this.editedItem.INDEX_KEY+"&pIS_MANUAL="+this.editedItem.IS_MANUAL,{headers:{Authorization:t}}).then((function(){e.retrieveCalendarWeek()}))},getNum:function(e){return e=+e||0,e},getThisDate:function(){return this.date},deleteItem:function(e,t,a,i){this.editedItem.INDEX_KEY=e,this.editedItem.IS_MANUAL=t,this.editedItem.WORK_SHOP_ID=a,this.editedItem.PART_ID=i,this.editedItem.CAN_OK="Y"==t?" 등록":"서 제외",this.dialogDelete=!0},deleteItemConfirm:function(){this.updateIS_MANUAL(),this.closeDelete()},deleteItemWeek:function(e,t,a,i){this.editedItem.INDEX_KEY=e,this.editedItem.IS_MANUAL=t,this.editedItem.WORK_SHOP_ID=a,this.editedItem.PART_ID=i,this.editedItem.CAN_OK="Y"==t?" 등록":"서 제외",this.dialogDeleteWeek=!0},deleteItemConfirmWeek:function(){this.updateIS_MANUAL_Week(),this.closeDeleteWeek()},closeDelete:function(){this.dialogDelete=!1},closeDeleteWeek:function(){this.dialogDeleteWeek=!1}}},n=o,c=a("2877"),d=a("6544"),u=a.n(d),v=a("8212"),f=a("8336"),h=a("b0af"),m=a("62ad"),p=a("2e4b"),k=a("169a"),g=a("132d"),_=a("490a"),I=a("0fd9"),b=a("b974"),w=a("2fa4"),D=a("8654"),E=a("71d9"),N=a("2a7f"),S=Object(c["a"])(n,i,s,!1,null,null,null);t["default"]=S.exports;u()(S,{VAvatar:v["a"],VBtn:f["a"],VCard:h["a"],VCol:m["a"],VDatePicker:p["a"],VDialog:k["a"],VIcon:g["a"],VProgressCircular:_["a"],VRow:I["a"],VSelect:b["a"],VSpacer:w["a"],VTextField:D["a"],VToolbar:E["a"],VToolbarTitle:N["b"]})},afdd:function(e,t,a){"use strict";var i=a("8336");t["a"]=i["a"]},b0af:function(e,t,a){"use strict";a("0481"),a("4069"),a("a9e3");var i=a("5530"),s=(a("615b"),a("10d2")),r=a("297c"),l=a("1c87"),o=a("58df");t["a"]=Object(o["a"])(r["a"],l["a"],s["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes:function(){return Object(i["a"])(Object(i["a"])({"v-card":!0},l["a"].options.computed.classes.call(this)),{},{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised},s["a"].options.computed.classes.call(this))},styles:function(){var e=Object(i["a"])({},s["a"].options.computed.styles.call(this));return this.img&&(e.background='url("'.concat(this.img,'") center center / cover no-repeat')),e}},methods:{genProgress:function(){var e=r["a"].options.methods.genProgress.call(this);return e?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[e]):null}},render:function(e){var t=this.generateRouteLink(),a=t.tag,i=t.data;return i.style=this.styles,this.isClickable&&(i.attrs=i.attrs||{},i.attrs.tabindex=0),e(a,this.setBackgroundColor(this.color,i),[this.genProgress(),this.$slots.default])}})}}]);
//# sourceMappingURL=chunk-3fadbc47.3e4a5630.js.map